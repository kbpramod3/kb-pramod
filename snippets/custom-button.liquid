{%- doc -%}
  Custom Button with Arrow
  @param {string} link - The URL
  @param {object} [block] - The block settings
{%- enddoc -%}

{% assign block_settings = block.settings %}

<a
  {% if link == blank %}
    role="link"
    aria-disabled="true"
  {% else %}
    href="{{ link }}"
  {% endif %}
  class="
    custom-btn
    {{ block_settings.style_class }}
    {{ block_settings.style_class }}--{{ block.id }}
  "
  style="{% render 'size-style', settings: block_settings %}"
  {%- if block_settings.open_in_new_tab -%}
    target="_blank"
    rel="noopener noreferrer"
  {%- endif -%}
  {{ block.shopify_attributes }}
>
  <span>{{ block_settings.label }}</span>

  {% if block_settings.style_class == "primary" %}
    <img src="{{ 'icon-arrow-right.svg' | asset_url }}" alt="arrow" class="arrow default-arrow" width="100%" height="100%" />
    <img src="{{ 'icon-arrow-right-white.svg' | asset_url }}" alt="arrow" class="arrow hover-arrow" width="100%" height="100%" />
  {% else %}
    <img src="{{ 'icon-arrow-right-white.svg' | asset_url }}" alt="arrow" class="arrow default-arrow"width="100%" height="100%" />
    <img src="{{ 'icon-arrow-right.svg' | asset_url }}" alt="arrow" class="arrow hover-arrow" width="100%" height="100%" />
  {% endif %}
</a>

{% stylesheet %}
  .custom-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    padding: 12px 24px;
    font-family: 'Jost', sans-serif;
    font-weight: 400;
    font-size: 16px;
    line-height: 20.48px;
    text-transform: uppercase;
    text-decoration: none;
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: color 0.3s ease;
  }

  .custom-btn .arrow {
    width: 25px;
    height: 21px;
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  .custom-btn .hover-arrow {
    position: absolute;
    opacity: 0;
  }
  .custom-btn:hover .default-arrow {
    opacity: 0;
  }
  .custom-btn:hover .hover-arrow {
    opacity: 1;
    transform: translateX(4px);
  }

  .custom-btn.primary {
    background: linear-gradient(to left, #FFF544 50%, #000000 50%);
    background-size: 200% 100%;
    background-position: left bottom;
    color: #000000;
    transition: background-position 0.4s ease, color 0.3s ease;
  }
  .custom-btn.primary:hover {
    background-position: right bottom;
    color: #ffffff;
  }

  .custom-btn.secondary {
    background: linear-gradient(to left, #000000 50%, #FFF544 50%);
    background-size: 200% 100%;
    background-position: left bottom;
    color: #ffffff;
    transition: background-position 0.4s ease, color 0.3s ease;
  }
  .custom-btn.secondary:hover {
    background-position: right bottom;
    color: #000000;
  }
{% endstylesheet %}
